# 3_분할표

명복형 또는 순서형 데이터의 도수를 표 형태로 기록한 것

- 독립성 검정: 카이 제곱 검정으로 변수 간에 의존 관계 여부 확인
- 적합도 검정: 도수가 특정 분포를 따르는지 확인
- 기계학습: 데이터의 Positive / Negative 예측

|       | A    | B    |
| ----- | ---- | ---- |
| **1** | 3    | 7    |
| **2** | 8    | 5    |

```r
> d <- data.frame(x=c("1", "2", "2", "1"), y=c("A", "B", "A", "B"), num=c(3, 5, 8, 7))
> xtabs(num ~ x + y, data=d)
   y
x   A B
  1 3 7
  2 8 5
```

<br>

## 1. 합과 비율의 계산

행 방향, 열 방향의 합과 전체 합

|                         | A    | B    | margin.table(xt, 1)       |
| ----------------------- | ---- | ---- | ------------------------- |
| **1**                   | 3    | 7    | 10                        |
| **2**                   | 8    | 5    | 13                        |
| **margin.table(xt, 2)** | 11   | 12   | **margin.table(xt)** = 23 |

```r
> margin.table(xt, 1)
x
 1  2 
10 13 

> margin.table(xt, 2)
y
 A  B 
11 12 

> margin.table(xt)
[1] 23
```

행 방향, 열 방향의 비율과 전체 비율

|       | A           | B           |      |
| ----- | ----------- | ----------- | ---- |
| **1** | 3/10 = 0.3  | 7/10 = 0.7  | 10   |
| **2** | 8/13 = 0.62 | 5/13 = 0.38 | 13   |

|       | A           | B           |
| ----- | ----------- | ----------- |
| **1** | 3/11 = 0.27 | 7/12 = 0.58 |
| **2** | 8/11 = 0.73 | 5/12 = 0.42 |
|       | 11          | 12          |

|       | A           | B           |      |
| ----- | ----------- | ----------- | ---- |
| **1** | 3/23 = 0.13 | 7/23 = 0.30 | 10   |
| **2** | 8/23 = 0.34 | 5/23 = 0.22 | 13   |
|       | 11          | 12          | 23   |

```r
> prop.table(xt, 1)
   y
x           A         B
  1 0.3000000 0.7000000
  2 0.6153846 0.3846154

> prop.table(xt, 2)
   y
x           A         B
  1 0.2727273 0.5833333
  2 0.7272727 0.4166667

> prop.table(xt)
   y
x           A         B
  1 0.1304348 0.3043478
  2 0.3478261 0.2173913
```


